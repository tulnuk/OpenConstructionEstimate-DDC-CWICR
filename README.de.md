<h3 align="center">DDC CWICR - Bauleistungspositionen, Komponenten & Ressourcen </br>
  + n8n-Pipelines zur Kostenkalkulation auf Basis von Beschreibungen, Fotos und CAD (BIM)</h3>

<p align="center">
  <a href="README.md">English</a> ‚Ä¢
  <a href="README.zh-CN.md">‰∏≠Êñá</a> ‚Ä¢
  <a href="README.es.md">Espa√±ol</a> ‚Ä¢
  <a href="README.pt-BR.md">Portugu√™s</a> ‚Ä¢
  <a href="README.ru.md">–†—É—Å—Å–∫–∏–π</a> ‚Ä¢
  <a href="README.ja.md">Êó•Êú¨Ë™û</a> ‚Ä¢
  <a href="README.de.md"><b>Deutsch</b></a> ‚Ä¢
  <a href="README.fr.md">Fran√ßais</a>
</p>

<p align="center">
  <img src="https://github.com/datadrivenconstruction/cad2data-Revit-IFC-DWG-DGN-pipeline-with-conversion-validation-qto/blob/main/DDC_in_additon/DDC_readme_content/OpenConstructionEstimate.jpg" alt="OpenConstructionEstimate" width="1000">
</p>

<div align="center">
  <img src="https://img.shields.io/badge/Leistungspositionen-55.719-2563eb?style=for-the-badge" alt="Leistungspositionen">
  <img src="https://img.shields.io/badge/Ressourcen-27.672-059669?style=for-the-badge" alt="Ressourcen">
  <img src="https://img.shields.io/badge/Sprachen-9-d97706?style=for-the-badge" alt="Sprachen">
  <img src="https://img.shields.io/badge/L√§nder-10+-dc2626?style=for-the-badge" alt="L√§nder">
</div>

<div align="center">
  <img src="https://img.shields.io/badge/Lizenz-CC_BY_4.0-green?style=flat-square" alt="Lizenz">
  <img src="https://img.shields.io/badge/Version-v0.1.0-blue?style=flat-square" alt="Version">
  <img src="https://img.shields.io/badge/Embeddings-OpenAI_3072d-412991?style=flat-square" alt="Embeddings">
  <img src="https://img.shields.io/badge/Vektor_DB-Qdrant-dc382d?style=flat-square" alt="Qdrant">
  <img src="https://img.shields.io/badge/Automatisierung-n8n-ea4b71?style=flat-square" alt="n8n">
</div>

<p align="center">
  <img src="https://github.com/datadrivenconstruction/cad2data-Revit-IFC-DWG-DGN-pipeline-with-conversion-validation-qto/blob/main/DDC_in_additon/DDC_readme_content/OpenConstructionEstimate_bottom.jpg" alt="OpenConstructionEstimate" width="1000">
</p>

<h3 align="center">‚ö° n8n Workflows</h3>
<p align="center"><code>W√§hlen Sie Ihre Eingabe ‚Üí Erhalten Sie eine Kostensch√§tzung</code></p>

<br>

<table width="100%">
<tr>

<td align="center" valign="top" width="33%">
<br>
<h3>üìù Text</h3>
<p>Schnelle Sch√§tzung<br>aus einer kurzen Beschreibung</p>
<p><b>Eingabe:</b> Telegram- / Chat-Nachricht<br>
<b>Ausgabe:</b> Zugeordnete Leistungspositionen + Sch√§tzung</p>
<br>
<a href="#1Ô∏è‚É£-text-sch√§tzungs-bot">üìñ Dokumentation</a>
<br><br>
<a href="./n8n_1_Telegram_Bot_Cost_Estimates_and_Rate_Finder_TEXT_DDC_CWICR.json">
<img src="https://img.shields.io/badge/Workflow_herunterladen-0A84FF?style=for-the-badge&logo=download&logoColor=white" alt="Herunterladen"/>
</a>
<br><br>
</td>

<td align="center" valign="top" width="33%">
<br>
<h3>üì∑ Foto / PDF</h3>
<p>Baustellenfotos, gescannte LV,<br>Foto-PDFs vom Feld</p>
<p><b>Eingabe:</b> Bild oder PDF-Seiten<br>
<b>Ausgabe:</b> Extrahierter Umfang ‚Üí Sch√§tzung</p>
<br>
<a href="#2Ô∏è‚É£-foto-kostensch√§tzer">üìñ Foto-Doku</a> ¬∑ <a href="#3Ô∏è‚É£-universal-bot-text--foto--pdf">üìñ Universal-Bot</a>
<br><br>
<a href="./n8n_2_Photo_Cost_Estimate_DDC_CWICR.json">
<img src="https://img.shields.io/badge/Foto_Workflow-0A84FF?style=for-the-badge&logo=download&logoColor=white" alt="Foto"/>
</a>
&nbsp;
<a href="./n8n_3_Telegram_Bot_Cost_Estimates_and_Rate_Finder_TEXT_PHOTO_PDF_DDC_CWICR.json">
<img src="https://img.shields.io/badge/Telegram_Bot-0A84FF?style=for-the-badge&logo=telegram&logoColor=white" alt="Bot"/>
</a>
<br><br>
</td>

<td align="center" valign="top" width="33%">
<br>
<h3>üßä CAD / BIM</h3>
<p>Revit- / IFC- / DWG-basierte<br>Mengenermittlung & Kalkulation</p>
<p><b>Eingabe:</b> Modellexport <br>
<b>Ausgabe:</b> 4D/5D-Sch√§tzung + Aufgliederung</p>
<br>
<a href="#4Ô∏è‚É£-cad-bim-kostensch√§tzungs-pipeline">üìñ Dokumentation</a>
<br><br>
<a href="./n8n_4_CAD_(BIM)_Cost_Estimation_Pipeline_4D_5D_with_DDC_CWICR.json">
<img src="https://img.shields.io/badge/Workflow_herunterladen-0A84FF?style=for-the-badge&logo=download&logoColor=white" alt="Herunterladen"/>
</a>
<br><br>
</td>

</tr>
</table>

<br>
<p align="center">
  <a href="https://openconstructionestimate.com">
    <img src="https://img.shields.io/badge/üåê_LIVE_DEMO_(nur_Datenbank)-openconstructionestimate.com-2563eb?style=for-the-badge" alt="Live-Demo">
  </a>
</p>
<br>
<p align="center">
 DataDrivenConstruction Kunden und Nutzer
  <br>
  <a href="https://datadrivenconstruction.io/">
  <img src="https://github.com/datadrivenconstruction/cad2data-Revit-IFC-DWG-DGN-pipeline-with-conversion-validation-qto/blob/main/DDC_in_additon/DDC_readme_content/Clients_DataDrivenConstruction_logos.png" width="95%"/>
  </a>
  <br></br>
</p>


---

## üìë Inhaltsverzeichnis

### KI-Integration
- [Perfekter Treibstoff f√ºr KI](#-perfekter-treibstoff-f√ºr-ihre-ki-produkte) ‚Äî Warum diese Datenbank ideal f√ºr KI ist
- [Claude Code](#-claude-code--ki-codierassistent) ‚Äî Nutzung des KI-Codierassistenten
- [n8n](#-n8n--visuelle-workflow-automatisierung) ‚Äî Workflow-Automatisierung
- [Dify](#-dify--llm-anwendungen-erstellen) ‚Äî LLM-App-Entwicklung
- [Sim AI & Andere](#-sim-ai--√§hnliche-plattformen) ‚Äî Kompatible Plattformen
- [Universelle Anwendungsf√§lle](#-universelle-anwendungsf√§lle) ‚Äî Was Sie erstellen k√∂nnen

### Datenbank & Daten
- [√úber](#√ºber) ‚Äî Was ist DDC CWICR
- [Verf√ºgbare Formate](#verf√ºgbare-formate) ‚Äî Excel, Parquet, CSV, Qdrant
- [Datenschema](#datenschema) ‚Äî 85-Felder-Struktur
- [Feldgruppen](#feldgruppen) ‚Äî Klassifizierung, Ressourcen, Arbeit, Maschinen
- [Methodik](#methodik) ‚Äî Ressourcenbasierte Kalkulationsprinzipien
- [Historischer Kontext](#historischer-kontext) ‚Äî 100+ Jahre Standards

### n8n Workflows
- [n8n Workflows √úbersicht](#-n8n-workflows) ‚Äî W√§hlen Sie Ihren Eingabetyp
- [Jetzt ausprobieren ‚Äî Live-Demo-Bots](#-jetzt-ausprobieren--live-demo-bots) ‚Äî Sofort in Telegram testen
- [Workflow 1: Text-Sch√§tzungs-Bot](#1Ô∏è‚É£-text-sch√§tzungs-bot) ‚Äî Telegram-Bot f√ºr Texteingabe
- [Workflow 2: Foto-Kostensch√§tzer](#2Ô∏è‚É£-foto-kostensch√§tzer) ‚Äî Webformular mit KI-Vision
- [Workflow 3: Universal-Bot](#3Ô∏è‚É£-universal-bot-text--foto--pdf) ‚Äî Text + Foto + PDF
- [Workflow 4: CAD/BIM-Pipeline](#4Ô∏è‚É£-cad-bim-kostensch√§tzungs-pipeline) ‚Äî Revit/IFC/DWG zur Sch√§tzung
- [Workflows Schnellstart](#workflows-schnellstart) ‚Äî Einrichtung in 4 Schritten
- [‚ö†Ô∏è n8n 2.0+ Einrichtung](#Ô∏è-n8n-20-einrichtung-erforderlich) ‚Äî Execute Command Node aktivieren

### CAD/BIM Pipeline Details
- [Voraussetzungen](#-voraussetzungen) ‚Äî Erforderliche Komponenten
- [Pipeline-Stufen](#-pipeline-stufen) ‚Äî 10-stufige Verarbeitung
- [LLM-Modellauswahl](#Ô∏è-llm-modellauswahl) ‚Äî OpenAI, Claude, Gemini, Grok
- [Ausgabedateien](#-ausgabedateien) ‚Äî HTML- & Excel-Berichte
- [Fehlerbehebung](#Ô∏è-fehlerbehebung) ‚Äî H√§ufige Probleme

### Vektordatenbank
- [Vektordatenbank](#vektordatenbank) ‚Äî Semantische Suche mit Qdrant
- [Releases](#releases) ‚Äî Snapshots herunterladen
- [Sammlungen](#sammlungen) ‚Äî 9 Sprachsammlungen
- [Docker-Bereitstellung](#docker-bereitstellung) ‚Äî Selbst gehostete Einrichtung

### Erste Schritte
- [Schnellstart - Python](#schnellstart) ‚Äî Tabellarische Daten & semantische Suche
- [Integrations-Anwendungsf√§lle](#integration) ‚Äî Einstiegs- bis Fortgeschrittenen-Level

### Community
- [Ressourcen & Community](#ressourcen--community) ‚Äî Links & Kan√§le
- [Beratung & Schulung](#beratung--schulung) ‚Äî Professionelle Dienstleistungen
- [Mitwirken](#mitwirken) ‚Äî Reichen Sie Ihre Workflows ein
- [Lizenz](#lizenz) ‚Äî CC BY 4.0 & MIT
- [Projekt unterst√ºtzen](#projekt-unterst√ºtzen) ‚Äî Sponsern & Spenden


---

## üöÄ Perfekter Treibstoff f√ºr Ihre KI-Produkte

<p align="center">
  <b>Klonen Sie einfach das Repository und beschreiben Sie, was Sie wollen ‚Äî die KI erledigt den Rest</b>
</p>

DDC CWICR ist nicht nur eine Datenbank ‚Äî es ist **gebrauchsfertiger Treibstoff f√ºr KI-gest√ºtzte Anwendungen**. Ob Sie Kostensch√§tzungs-Bots erstellen, Bau-Workflows automatisieren oder intelligente Assistenten entwickeln ‚Äî diese Daten funktionieren sofort mit modernen KI-Tools.

### Warum diese Datenbank ideal f√ºr KI ist

| Merkmal | Vorteil |
|---------|---------|
| **Vorberechnete Embeddings** | Keine Vektorgenerierung n√∂tig ‚Äî semantische Suche funktioniert sofort |
| **Strukturiertes 85-Felder-Schema** | KI kann Datenbeziehungen verstehen und pr√§zise Antworten liefern |
| **9 Sprachen enthalten** | Mehrsprachige Anwendungen ohne √úbersetzungsaufwand erstellen |
| **55.000+ Leistungspositionen** | Umfassende Abdeckung f√ºr jede Baukostensch√§tzungsaufgabe |
| **Ressourcenbasierte Methodik** | Transparente Daten, die KI erkl√§ren und aufschl√ºsseln kann |

### üõ†Ô∏è Funktioniert perfekt mit

<table>
<tr>
<td align="center" width="20%">
<img src="https://img.shields.io/badge/Claude_Code-000000?style=for-the-badge&logo=anthropic&logoColor=white" alt="Claude Code"/><br/>
<b>Claude Code</b><br/>
<sub>KI-Codierassistent CLI</sub>
</td>
<td align="center" width="20%">
<img src="https://img.shields.io/badge/Google_Antigravity-4285F4?style=for-the-badge&logo=google&logoColor=white" alt="Google Antigravity"/><br/>
<b>Google Antigravity</b><br/>
<sub>Google Antigravity</sub>
</td>
<td align="center" width="20%">
<img src="https://img.shields.io/badge/n8n-EA4B71?style=for-the-badge&logo=n8n&logoColor=white" alt="n8n"/><br/>
<b>n8n</b><br/>
<sub>Workflow-Automatisierung</sub>
</td>
<td align="center" width="20%">
<img src="https://img.shields.io/badge/Dify-1677FF?style=for-the-badge&logo=openai&logoColor=white" alt="Dify"/><br/>
<b>Dify</b><br/>
<sub>LLM-App-Entwicklung</sub>
</td>
<td align="center" width="20%">
<img src="https://img.shields.io/badge/Sim_AI-6366F1?style=for-the-badge&logo=simpleicons&logoColor=white" alt="Sim AI"/><br/>
<b>Sim AI & Andere</b><br/>
<sub>KI-Plattformen</sub>
</td>
</tr>
</table>

---

### üíª Claude Code & Google Antigravity ‚Äî KI-Codierassistenten

Der schnellste Weg, mit DDC CWICR zu arbeiten. √ñffnen Sie einfach das Repository in Claude Code oder Google Antigravity und stellen Sie Fragen in nat√ºrlicher Sprache.

**Erste Schritte:**
```bash
# Repository klonen
git clone https://github.com/datadrivenconstruction/OpenConstructionEstimate-DDC-CWICR.git

# Mit Claude Code √∂ffnen
cd OpenConstructionEstimate-DDC-CWICR
claude
```

**Beispiel-Prompts:**

| Aufgabe | Prompt |
|---------|--------|
| **Daten erkunden** | "Zeige mir die Struktur dieser Baudatenbank und erkl√§re, welche Daten verf√ºgbar sind" |
| **Leistungspositionen finden** | "Finde alle Leistungspositionen zu Betonfundamenten und zeige deren Kosten" |
| **Abfragen erstellen** | "Schreibe ein Python-Skript zur Suche nach Sanit√§rarbeiten mit Arbeitsstunden > 100" |
| **Berichte erstellen** | "Erstelle einen Kostenaufstellungsbericht f√ºr Wohnungssanierungsarbeiten" |
| **Kosten analysieren** | "Vergleiche Materialkosten zwischen verschiedenen Wandbaumethoden" |
| **Integrationen erstellen** | "Erstelle ein Skript, das sich mit der Qdrant-Datenbank verbindet und semantische Suche durchf√ºhrt" |

**Profi-Tipps:**
- Verweisen Sie Claude auf bestimmte Dateien: *"Analysiere die Parquet-Datei und fasse die Kostenverteilung zusammen"*
- Bitten Sie um Erkl√§rungen: *"Erkl√§re, wie die ressourcenbasierte Kalkulationsmethodik in dieser Datenbank funktioniert"*
- Fordern Sie √Ñnderungen an: *"Modifiziere den n8n-Workflow, um E-Mail-Benachrichtigungen hinzuzuf√ºgen"*

---

### ‚ö° n8n ‚Äî Visuelle Workflow-Automatisierung

Erstellen Sie leistungsstarke Automatisierungs-Pipelines ohne Programmierung. Verbinden Sie DDC CWICR mit 400+ Apps und Diensten.

**Anwendungsf√§lle:**

| Workflow | Beschreibung |
|----------|--------------|
| **Telegram-Bot** | Benutzer sendet Text/Foto ‚Üí KI extrahiert Leistungspositionen ‚Üí Gibt Kostensch√§tzung zur√ºck |
| **E-Mail-Automatisierung** | LV per E-Mail empfangen ‚Üí Mit KI verarbeiten ‚Üí Formatierte Sch√§tzung senden |
| **CRM-Integration** | Neues Projekt im CRM ‚Üí Vorl√§ufige Sch√§tzung automatisch generieren ‚Üí Auftragswert aktualisieren |
| **BIM-Pipeline** | Export aus Revit ‚Üí Mengen extrahieren ‚Üí Mit DDC-S√§tzen abgleichen ‚Üí 5D-Bericht erstellen |
| **Slack-Bot** | Team stellt Fragen ‚Üí KI durchsucht Datenbank ‚Üí Gibt relevante Leistungspositionen zur√ºck |

**Schnellstart:**
1. Workflow-JSON aus diesem Repository herunterladen
2. In n8n importieren: `Workflows ‚Üí Importieren ‚Üí Aus Datei`
3. Anmeldedaten konfigurieren (OpenAI, Qdrant, Telegram)
4. Aktivieren und testen

Siehe Abschnitt [n8n Workflows](#n8n-workflows--detaillierte-beschreibung) f√ºr detaillierte Einrichtung.

---

### ü§ñ Dify ‚Äî LLM-Anwendungen erstellen

Erstellen Sie benutzerdefinierte KI-Anwendungen mit DDC CWICR als Wissensbasis.

**Einrichtung:**
1. Neue Dify-Anwendung erstellen
2. Wissensbasis hinzuf√ºgen ‚Üí Parquet/CSV-Dateien hochladen oder mit Qdrant verbinden
3. RAG-Pipeline mit Embeddings konfigurieren
4. Chat-Oberfl√§che oder API erstellen

**Anwendungsideen:**

| App-Typ | Beschreibung |
|---------|--------------|
| **Baukostensch√§tzungs-Chatbot** | Konversationsschnittstelle f√ºr Kostenabfragen |
| **Leistungspositions-Suche** | Nat√ºrlichsprachliche Suche √ºber 55.000+ Positionen |
| **Kostenberater** | KI, die Kostenaufschl√ºsselungen erkl√§rt und Optimierungen vorschl√§gt |
| **Mehrsprachiger Assistent** | Sprache automatisch erkennen und in Benutzersprache antworten |
| **API-Endpunkt** | REST-API zur Integration mit anderen Systemen |

**Beispiel Dify Prompt-Vorlage:**
```
Sie sind ein Baukostensch√§tzungs-Assistent mit Zugang zur DDC CWICR-Datenbank.

Kontext: {{context}}

Benutzerfrage: {{query}}

Geben Sie genaue Kosteninformationen basierend auf der Datenbank an. Enthalten Sie:
- Relevante Leistungspositionen mit Codes
- Einheitskosten und Mengen
- Ressourcenaufschl√ºsselung (Arbeit, Materialien, Ausr√ºstung)
- Gesamtkostenberechnung
```

---

### üîÆ Sim AI & √Ñhnliche Plattformen

DDC CWICR integriert sich mit jeder KI-Plattform, die unterst√ºtzt:
- **Vektordatenbanken** (Qdrant, Pinecone, Weaviate, Milvus)
- **Strukturierte Daten** (CSV, Parquet, Excel)
- **OpenAI-Embeddings** (text-embedding-3-large, 3072 Dimensionen)

**Kompatible Plattformen:**
- **Sim AI** ‚Äî KI-Simulation und -Modellierung
- **LangChain / LlamaIndex** ‚Äî LLM-Anwendungs-Frameworks
- **Flowise** ‚Äî Low-Code LLM-App-Builder
- **Botpress** ‚Äî Konversations-KI-Plattform
- **Voiceflow** ‚Äî Sprach- und Chat-Design
- **Stack AI** ‚Äî No-Code KI-Workflows
- **Relevance AI** ‚Äî KI-Workforce-Plattform

**Universelles Integrationsmuster:**

```python
# Funktioniert mit jeder Plattform, die Qdrant unterst√ºtzt
from qdrant_client import QdrantClient

# Mit DDC CWICR verbinden
client = QdrantClient("your-qdrant-instance", port=6333)

# Semantische Suche
results = client.search(
    collection_name="ddc_cwicr_en",  # oder de, ru, zh, etc.
    query_vector=your_embedding,
    limit=10
)

# Ergebnisse in Ihrer KI-Anwendung verwenden
for item in results:
    print(f"{item.payload['rate_code']}: {item.payload['rate_original_name']}")
```

---

### üìã Universelle Anwendungsf√§lle

Unabh√§ngig davon, welches KI-Tool Sie w√§hlen, erm√∂glicht DDC CWICR:

| Anwendungsfall | Beschreibung |
|----------------|--------------|
| **Sofortige Kostensch√§tzung** | Baukosten aus Textbeschreibungen oder Fotos ermitteln |
| **LV-Generierung** | Leistungsverzeichnis automatisch aus Projektbeschreibungen erstellen |
| **Preis-Benchmarking** | Kosten √ºber Regionen und Sprachen hinweg vergleichen |
| **Ressourcenplanung** | Arbeitsstunden, Materialien und Ausr√ºstungsbedarf berechnen |
| **Investitionsanalyse** | Tiefgehende Kostenpr√ºfungen mit vollst√§ndiger Ressourcentransparenz |
| **Mehrsprachige Unterst√ºtzung** | Benutzer in 9 Sprachen mit lokalisierten Preisen bedienen |
| **BIM-Integration** | Mit Revit/IFC f√ºr automatisierte 4D/5D-Sch√§tzung verbinden |
| **KI-Modelle trainieren** | Strukturierte Daten f√ºr das Feintuning von Bau-KI verwenden |

---

## √úber

**DDC CWICR** (Construction Work Items, Components & Resources - Bauleistungspositionen, Komponenten & Ressourcen) ist eine offene Datenbank f√ºr Baukostensch√§tzung, die das gesamte Spektrum von Bauaktivit√§ten abdeckt - von Erdarbeiten und Betonarbeiten bis hin zu spezialisierten Installationsarbeiten.

Die Datenbank st√ºtzt sich auf Quellen, die moderne Baupraktiken in Eurasien und der asiatisch-pazifischen Region beschreiben, wo ein einheitliches technisches Standardisierungs-√ñkosystem als gemeinsame Ingenieursprache f√ºr mehr als zehn dynamisch wachsende Volkswirtschaften dient. DDC CWICR stellt einen Versuch dar, offene Standards zu harmonisieren, indem ein einheitlicher regulatorischer Rahmen f√ºr das Kapitalprojektmanagement in mehreren Sprachen etabliert wird.

<p align="center">
  <br>
  <img src="https://github.com/datadrivenconstruction/cad2data-Revit-IFC-DWG-DGN-pipeline-with-conversion-validation-qto/blob/main/DDC_in_additon/DDC_readme_content/DDC%20CWICR%20GEOGRAPHIC%20COVERAGE.jpg" width="100%"/>
  <br></br>
</p>

Die strukturierten Daten k√∂nnen √ºber tabellarische Formate (XLSX, CSV, Parquet) abgerufen oder √ºber LLM konversationell abgefragt werden, was Fachleuten erm√∂glicht, Bauleistungsbeschreibungen (QDRANT-Vektordatenbank) in automatisierte Pipelines und Workflows mit nat√ºrlicher Sprache oder pr√§gnanten Abfragen zu integrieren.

### Verf√ºgbare Formate

| Format      | Erweiterung | Gr√∂√üe        | Am besten f√ºr                          | Merkmale                              |
|-------------|-------------|--------------|----------------------------------------|---------------------------------------|
| **Excel**   | `.xlsx`     | ~150‚Äì400 MB  | Manuelle Analyse, Filterung, Pivots    | Menschenlesbar, volle Formatierung    |
| **Parquet** | `.parquet`  | ~55 MB       | ETL-Pipelines, ML-Training, Big Data   | Spaltenbasiert, exzellente Kompression|
| **CSV**     | `.csv`      | ~1,3 GB      | Datenbankimport, Legacy-Systeme        | Universelle Kompatibilit√§t            |
| **Qdrant**  | `.snapshot` | ~1 GB        | Semantische Suche, RAG, KI-Assistenten | Vorberechnete OpenAI-Embeddings       |


Eine Live-Demo ist unter [openconstructionestimate.com](https://openconstructionestimate.com/) verf√ºgbar, wo Sie die Daten erkunden und die Vektordatenbank in Aktion f√ºr semantische Suche sehen k√∂nnen.

<p align="center">
  <img src="https://github.com/datadrivenconstruction/cad2data-Revit-IFC-DWG-DGN-pipeline-with-conversion-validation-qto/blob/main/DDC_in_additon/DDC_readme_content/DDC%20CWICR%20Resource-based%20Work%20Cost%20Norms.jpg" alt="OpenConstructionEstimate" width="1000">
</p>

---

## Datenschema

Die Datenbank enth√§lt **85 Felder**, die in logische Gruppen organisiert sind. Jeder Datensatz repr√§sentiert entweder eine Leistungsposition (Rate) oder eine Ressource mit vollst√§ndiger Kostenaufschl√ºsselung.

```mermaid
erDiagram
    RATE ||--o{ RESOURCE : enth√§lt
    RATE ||--o{ LABOR : ben√∂tigt
    RATE ||--o{ MACHINERY : verwendet
    RATE ||--o{ PRICE_VARIANT : hat

    RATE {
        string rate_code PK "MEKA_KASA_KAKATO_KAME"
        string rate_original_name "Einbau von Trennw√§nden..."
        string rate_unit "100 m2"
        string category_type "BAUARBEITEN"
        string collection_name "Holzkonstruktionen"
        string department_name "TRENNW√ÑNDE..."
        string section_name "Einbau von Trennw√§nden..."
        text work_composition_text
    }

    RESOURCE {
        string resource_code PK "KAME-NE-KAME-KARI"
        string resource_name "Gipskartonplatten"
        string resource_unit "m2"
        float resource_quantity "632.0"
        float resource_price_per_unit_eur "5.02"
        float resource_cost_eur "3170.73"
        boolean is_material
        boolean is_abstract
    }

    LABOR {
        string resource_code FK
        float labor_hours_workers "172"
        float labor_hours_machinists "1.67"
        int count_workers_per_unit "172"
        int count_machinists_per_unit "2"
        float cost_of_working_hours "3088.11"
    }

    MACHINERY {
        string machine_class2_name "Krane"
        string machine_class3_name "Krane auf Fahrgestellen"
        float electricity_consumption_kwh "0.23"
        float price_machinist_wages "13.56"
        float total_value_machinery "64.18"
    }

    PRICE_VARIANT {
        float price_est_median "5.02"
        float price_est_min "3.03"
        float price_est_max "7.99"
        int position_count "24"
        string variable_parts "glasfaserverst√§rkt..."
    }
```

### Feldgruppen
Die 85 Datenbankfelder sind in logische Gruppen organisiert, die die ressourcenbasierte Kalkulationsmethodik widerspiegeln. Jede Gruppe erf√ºllt eine spezifische Funktion in der Kostenaufschl√ºsselungsstruktur: von hierarchischer Klassifizierung und Leistungspositionsidentifikation bis hin zu detailliertem Ressourcenverbrauch, Arbeitsanforderungen, Maschinenkosten und aggregierten Summen. Diese modulare Struktur erm√∂glicht es Benutzern, nur die relevanten Felder f√ºr ihre Aufgabe abzufragen - ob sie ein Materialverzeichnis erstellen, Arbeitsproduktivit√§t analysieren oder eine vollst√§ndige Kostensch√§tzung erstellen.

<p align="center">
  <br>
  <img src="https://github.com/datadrivenconstruction/cad2data-Revit-IFC-DWG-DGN-pipeline-with-conversion-validation-qto/blob/main/DDC_in_additon/DDC_readme_content/Resource-based%20Work%20Cost%20Norms%20table2.jpg" width="100%"/>
  <br></br>
</p>

**Klassifizierung** - `category_type`, `collection_code`, `collection_name`, `department_code`, `department_name`, `department_type`, `section_name`, `section_type`, `subsection_code`, `subsection_name`

**Leistungsposition (Rate)** - `rate_code`, `rate_original_name`, `rate_final_name`, `rate_unit`, `row_type`, `is_scope`, `is_abstract`, `is_machine`, `is_labor`, `is_material`, `work_composition_text`

**Ressourcen** - `resource_code`, `resource_name`, `resource_unit`, `resource_quantity`, `parameter_resource_quantity`, `resource_price_per_unit_eur_current`, `resource_cost_eur`

**Arbeit** - `count_workers_per_unit`, `count_engineers_per_unit`, `count_machinists_per_unit`, `count_total_people_per_unit`, `labor_hours_construction_workers`, `labor_hours_machinists`, `labor_hours_engineers`, `total_labor_hours_workers_machinists`, `total_labor_hours_all_personnel`, `cost_of_working_hours`, `count_people_per_day`

**Maschinen** - `machine_class2_name`, `machine_class3_name`, `personnel_machinist_code`, `personnel_machinist_grade`, `price_machinist_wages`, `price_relocation_included`, `price_cost_without_wages`, `electricity_consumption_kwh_per_machine_hour`, `electricity_cost_per_unit`, `electricity_cost_total_sum`, `cost_machinist_sum`, `total_value_machinery_equipment`

**Preisvarianten** - `price_code_prefix`, `price_abstract_resource_common_start`, `price_abstract_resource_variable_parts`, `price_abstract_resource_position_count`, `price_abstract_resource_est_price_min`, `price_abstract_resource_est_price_max`, `price_abstract_resource_est_price_mean`, `price_abstract_resource_est_price_median`, `price_abstract_resource_unit`, `abstract_resource_tech_group`

**Aggregate** - `total_cost_per_position`, `total_material_cost_per_position`, `total_resource_cost_per_position`, `total_value_abstract_resources`, `materials_resource_cost_eur`

**Masse & Dienstleistungen** - `mass_name`, `mass_value`, `mass_unit`, `service_category`, `service_type`, `parameter_service_code`, `parameter_service_unit`, `parameter_service_name`, `parameter_service_quantity`, `service_cost_sum`

### Kostenberechnungsformel

| Komponente        | Technologie-Norm | √ó   | Regionaler Preis | =   | Kosten                    |
|-------------------|------------------|-----|------------------|-----|---------------------------|
| üë∑ **Arbeit**     | 172 Std./100m¬≤   | √ó   | 17,95 ‚Ç¨/Std.     | =   | 3.088,11 ‚Ç¨                |
| üß± **Materialien**| 632 m¬≤/100m¬≤     | √ó   | 5,02 ‚Ç¨/m¬≤        | =   | 3.170,73 ‚Ç¨                |
| üöú **Ausr√ºstung** | 1,67 Std./100m¬≤  | √ó   | 38,42 ‚Ç¨/Std.     | =   | 64,18 ‚Ç¨                   |
|                   |                  |     | **Gesamt**       | =   | **7.725,91 ‚Ç¨ pro 100m¬≤**  |

---

## Methodik

Der Hauptwert der **ressourcenbasierten Kalkulation** ist die Trennung von unver√§nderlicher Produktionstechnologie und volatiler Finanzkomponente. Sie basiert auf den physikalischen "Grundprinzipien" des Bauens:
- Arbeitsstunden, die f√ºr bestimmte Arbeiten erforderlich sind
- Materialmengen pro Arbeitseinheit
- Ben√∂tigte Ausr√ºstungszeit

**Warum es wichtig ist:**

- **Transparenz** - Preisgestaltung ohne versteckte Aufschl√§ge, vollst√§ndige Ressourcenaufschl√ºsselung
- **Pr√ºfbarkeit** - Tiefgehende Analysem√∂glichkeit f√ºr Investitionsanalysen und Verifizierung
- **√úbertragbarkeit** - Regionsunabh√§ngige Normen, die √ºber M√§rkte hinweg anwendbar sind
- **Bew√§hrt** - Branchenstandardmethodik, die √ºber 100+ Jahre etabliert wurde

```mermaid
flowchart TB
    subgraph Source["üì¶ Datenquelle"]
        CWICR[(DDC CWICR<br/>‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ<br/>55.719 Leistungspositionen<br/>27.672 Ressourcen<br/>85 Felder pro Datensatz)]
    end

    subgraph Processing["‚öôÔ∏è Verarbeitungs-Pipeline"]
        direction LR
        ETL[["üîÑ ETL<br/>Extraktion &<br/>Transformation"]]
        TRANS[["üåê √úbersetzung<br/>9 Sprachen"]]
        EMBED[["üß† Vektorisierung<br/>OpenAI 3072d"]]
        ETL --> TRANS --> EMBED
    end

    subgraph Outputs["üì§ Ausgabeformate"]
        XLSX[("üìä Excel<br/>.xlsx")]
        PARQUET[("‚ö° Parquet<br/>.parquet")]
        CSV[("üìÑ CSV<br/>.csv")]
        QDRANT[("üîç Qdrant<br/>.snapshot")]
    end

    subgraph Apps["üéØ Anwendungen"]
        SEARCH["üîé Semantische<br/>Suche"]
        BIM["üèóÔ∏è BIM 5D<br/>Integration"]
        RAG["ü§ñ RAG<br/>Systeme"]
        BI["üìà BI<br/>Analytik"]
    end

    Source --> Processing
    Processing --> XLSX & PARQUET & CSV & QDRANT
    XLSX & PARQUET & CSV --> BI & BIM
    QDRANT --> SEARCH & RAG & BIM

    style Source fill:#dbeafe,stroke:#2563eb,stroke-width:2px
    style Processing fill:#fef3c7,stroke:#d97706,stroke-width:2px
    style Outputs fill:#d1fae5,stroke:#059669,stroke-width:2px
    style Apps fill:#fce7f3,stroke:#db2777,stroke-width:2px
```


### Historischer Kontext

Die Bauleistungsbeschreibungen in dieser Datenbank basieren auf einer ressourcenbasierten Standardisierungsmethodik mit Wurzeln, die von den Produktionsnormen des fr√ºhen 20. Jahrhunderts bis zu den heutigen digitalen Referenzsystemen reichen. Diese Methode wurde seit den 1920er Jahren kontinuierlich entwickelt und verfeinert und hat besonders in der eurasischen Region eine robuste Entwicklung erfahren.

Im Laufe von hundert Jahren Entwicklung hat das System den √úbergang von manuellen Berechnungen zu maschinenlesbaren Formaten vollzogen - doch sein Grundprinzip bleibt intakt: die pr√§zise Messung der physischen Ressourcen, die pro Einheit der Bauleistung erforderlich sind. Moderne Implementierungen verbinden historische normative Daten mit Echtzeit-Marktpreisen.

Regionale Anpassungen dieser Methodik operieren unter verschiedenen nationalen Bezeichnungen: ENIR, GESN, FER, NRR, ESN, AzDTN, ShNQK, MKS ChT, SNT, BNbD, Dinh Muc, Ding'e.

<p align="center">
  <img src="https://github.com/datadrivenconstruction/cad2data-Revit-IFC-DWG-DGN-pipeline-with-conversion-validation-qto/blob/main/DDC_in_additon/DDC_readme_content/DDC%20CWICR%20SPREAD%20OF%20METHODOLOGY%20FROM%20THE%201920s.jpg" alt="OpenConstructionEstimate" width="1000">
</p>

‚≠ê <b>Wenn Sie neue Updates und Datenbankversionen sehen m√∂chten und unsere Tools n√ºtzlich finden, geben Sie unseren Repositories bitte einen Stern, um mehr √§hnliche Anwendungen f√ºr die Baubranche zu sehen.</b>
Geben Sie dem DDC-Workflow auf GitHub einen Stern und werden Sie sofort √ºber neue Releases informiert.
<p align="center">
  <br>
  <img src="https://github.com/datadrivenconstruction/cad2data-Revit-IFC-DWG-DGN-pipeline-with-conversion-validation-qto/blob/main/DDC_in_additon/DDC_readme_content/OCE%20star%20GitHub.gif" width="100%"/>
  <br></br>
</p>


---


## Integration

### Anwendungsf√§lle

- **Einstiegslevel** - Kosten-Benchmarking, Preisindexierung, Angebotssch√§tzung

- **Mittelstufe** - Lokalisierung, ETL/BI-Pipelines, CO‚ÇÇ-Berechnung

- **Fortgeschritten** - KI/ML-Training, CAD (BIM) 5D, Tiefgehende Investitionspr√ºfung

---

## n8n Workflows ‚Äî Detaillierte Beschreibung

Vier produktionsreife Workflows f√ºr automatisierte Baukostensch√§tzung. Jeder Workflow verbindet sich √ºber Qdrant mit der DDC CWICR-Vektordatenbank und nutzt KI-Modelle f√ºr intelligentes Parsing und Matching.

| #   | Workflow                                                           | Eingabe      | Am besten f√ºr                    | Download                                                                                            |
|-----|--------------------------------------------------------------------|--------------|----------------------------------|-----------------------------------------------------------------------------------------------------|
| 1   | [Text-Sch√§tzungs-Bot](#1Ô∏è‚É£-text-sch√§tzungs-bot)                    | üí¨ Text      | Schnelle Sch√§tzungen aus Text    | [JSON](./n8n_1_Telegram_Bot_Cost_Estimates_and_Rate_Finder_TEXT_DDC_CWICR.json)                      |
| 2   | [Foto-Sch√§tzer](#2Ô∏è‚É£-foto-kostensch√§tzer)                          | üì∑ Foto      | Baustellenbesuche, Inspektionen  | [JSON](./n8n_2_Photo_Cost_Estimate_DDC_CWICR.json)                                                  |
| 3   | [Universal-Bot](#3Ô∏è‚É£-universal-bot-text--foto--pdf)                | üí¨üì∑üìÑ Alle  | Voll ausgestattete Produktion    | [JSON](./n8n_3_Telegram_Bot_Cost_Estimates_and_Rate_Finder_TEXT_PHOTO_PDF_DDC_CWICR.json)            |
| 4   | [CAD/BIM-Pipeline](#4Ô∏è‚É£-cad-bim-kostensch√§tzungs-pipeline)         | üèóÔ∏è Revit    | BIM-basierte 4D/5D-Sch√§tzung     | [JSON](./n8n_4_CAD_(BIM)_Cost_Estimation_Pipeline_4D_5D_with_DDC_CWICR.json)                         |

---

### 1Ô∏è‚É£ Text-Sch√§tzungs-Bot

**Datei:** `n8n_1_Telegram_Bot_Cost_Estimates_and_Rate_Finder_TEXT_DDC_CWICR.json`

Telegram-Bot f√ºr textbasierte Kostensch√§tzung. Beschreiben Sie Bauleistungen in nat√ºrlicher Sprache ‚Äî der Bot parst die Eingabe, durchsucht die Vektordatenbank und gibt detaillierte Kostenaufschl√ºsselungen zur√ºck.

<p align="center">
  <br>
  <img src="https://github.com/datadrivenconstruction/cad2data-Revit-IFC-DWG-DGN-pipeline-with-conversion-validation-qto/blob/main/DDC_in_additon/DDC_readme_content/Text_Estimator_Bot.jpg" width="100%"/>
  <br></br>
</p>

<h3 align="left">ü§ñ Jetzt ausprobieren ‚Äî Live-Demo-Bots</h3>
<p align="left"><i>Testen Sie die Sch√§tzungs-Workflows sofort in Telegram</i></p>
<p><b>@TextOpenConstructionEstimate_bot</b></p>
<p>Erstellen Sie vollst√§ndige Kostensch√§tzungen<br>aus Textbeschreibungen</p>
<a href="https://t.me/TextOpenConstructionEstimate_bot">
<img src="https://img.shields.io/badge/Bot_√∂ffnen-26A5E4?style=for-the-badge&logo=telegram&logoColor=white" alt="Text-Bot"/>
</a>

```mermaid
flowchart LR
    subgraph Input["üí¨ EINGABE"]
        A[Telegram-Nachricht]
    end

    subgraph AI["ü§ñ KI-VERARBEITUNG"]
        B[Text parsen]
        C[Leistungspositionen extrahieren]
    end

    subgraph Search["üîç VEKTORSUCHE"]
        D[Embeddings generieren]
        E[Qdrant-Suche]
        F[KI-Reranking]
    end

    subgraph Output["üìä AUSGABE"]
        G[Kosten berechnen]
        H[HTML-Bericht]
        I[Excel-Export]
    end

    A --> B --> C --> D --> E --> F --> G --> H
    G --> I

    style Input fill:#e0f2fe,stroke:#0284c7
    style AI fill:#fef3c7,stroke:#d97706
    style Search fill:#dcfce7,stroke:#16a34a
    style Output fill:#f3e8ff,stroke:#9333ea
```



**So funktioniert es:**

| Schritt | Aktion                                       | Technologie                            |
|---------|----------------------------------------------|----------------------------------------|
| 1       | Benutzer sendet Textbeschreibung             | Telegram Bot API                       |
| 2       | KI parst und extrahiert Leistungspositionen  | OpenAI / Claude / Gemini               |
| 3       | Embeddings f√ºr jede Position generieren      | OpenAI `text-embedding-3-large`        |
| 4       | Passende S√§tze in Datenbank suchen           | Qdrant-Vektorsuche                     |
| 5       | KI rankt Ergebnisse f√ºr Genauigkeit          | LLM-Bewertung                          |
| 6       | Kosten berechnen und Bericht erstellen       | HTML / Excel / PDF                     |

**Funktionen:**

| Funktion                       | Beschreibung                                                            |
|--------------------------------|-------------------------------------------------------------------------|
| üí¨ Nat√ºrlichsprachliche Eingabe| Akzeptiert jedes Textformat ‚Äî Listen, S√§tze, strukturierte Beschreibungen|
| ü§ñ Multi-LLM-Unterst√ºtzung     | Funktioniert mit OpenAI, Claude oder Gemini (umschaltbar)               |
| üîç Semantische Suche           | Findet beste √úbereinstimmungen auch bei unterschiedlicher Formulierung  |
| üåç 9 Sprachen                  | DE, EN, RU, ES, FR, PT, ZH, AR, HI                                      |
| üìä Mehrere Exportformate       | HTML-Bericht, Excel-Tabelle, PDF-Dokument                               |
| ‚úèÔ∏è Interaktive Bearbeitung     | Mengen vor Endberechnung √§ndern                                         |

**Erforderliche Anmeldedaten:**
- Telegram Bot Token (von @BotFather)
- OpenAI API Key (f√ºr Embeddings + optionales LLM)
- Qdrant URL + API Key

---

### 2Ô∏è‚É£ Foto-Kostensch√§tzer

**Datei:** `n8n_2_Photo_Cost_Estimate_DDC_CWICR.json`

Webformular-Oberfl√§che f√ºr fotobasierte Sch√§tzung. Laden Sie ein Baufoto hoch ‚Äî KI-Vision identifiziert Elemente, sch√§tzt Abmessungen und berechnet Kosten automatisch.

<p align="center">
  <br>
  <img src="https://github.com/datadrivenconstruction/cad2data-Revit-IFC-DWG-DGN-pipeline-with-conversion-validation-qto/blob/main/DDC_in_additon/DDC_readme_content/n8n%20pipeline%20photo%20estimator.jpg" width="100%"/>
  <br></br>
</p>

```mermaid
flowchart TB
    subgraph Upload["üì∑ FOTO-UPLOAD"]
        A[Webformular]
        B[Region ausw√§hlen]
        C[Arbeitstyp w√§hlen]
    end

    subgraph Vision["üëÅÔ∏è KI-VISION"]
        D[GPT-4 Vision Analyse]
        E[Elemente identifizieren]
        F[Abmessungen sch√§tzen]
        G[Raumtyp erkennen]
    end

    subgraph Decompose["üîß ZERLEGUNG"]
        H[Elemente ‚Üí Leistungspositionen]
        I[Mengen berechnen]
    end

    subgraph Price["üí∞ PREISBILDUNG"]
        J[Vektorsuche]
        K[DDC-S√§tze zuordnen]
        L[Regionale Preise anwenden]
    end

    subgraph Report["üìÑ BERICHT"]
        M[HTML generieren]
        N[Kostenaufschl√ºsselung]
    end

    A --> B --> C --> D
    D --> E --> F --> G
    G --> H --> I
    I --> J --> K --> L
    L --> M --> N

    style Upload fill:#dbeafe,stroke:#2563eb
    style Vision fill:#fef3c7,stroke:#d97706
    style Decompose fill:#dcfce7,stroke:#16a34a
    style Price fill:#fee2e2,stroke:#dc2626
    style Report fill:#f3e8ff,stroke:#9333ea
```



**So funktioniert es:**

| Schritt | Aktion                                          | Technologie                          |
|---------|-------------------------------------------------|--------------------------------------|
| 1       | Benutzer l√§dt Foto √ºber Webformular hoch        | n8n Form Trigger                     |
| 2       | KI-Vision analysiert das Bild                   | GPT-4 Vision                         |
| 3       | Raumtyp, Elemente, Materialien identifizieren   | Strukturierte JSON-Extraktion        |
| 4       | Abmessungen aus Referenzobjekten sch√§tzen       | KI-Schlussfolgerung (T√ºren, Fliesen) |
| 5       | Elemente in Leistungspositionen zerlegen        | LLM-Verarbeitung                     |
| 6       | Jede Arbeit √ºber Vektorsuche bepreisen          | Qdrant + OpenAI-Embeddings           |
| 7       | Professionellen HTML-Bericht generieren         | Formatierte Ausgabe                  |

**Funktionen:**

| Funktion               | Beschreibung                                                   |
|------------------------|----------------------------------------------------------------|
| üì∑ Fotoanalyse         | GPT-4 Vision identifiziert Bauelemente                         |
| üìê Auto-Dimensionierung| Sch√§tzt Gr√∂√üen anhand von Referenzobjekten (T√ºren, Fliesen)    |
| üè† Raumerkennung       | Badezimmer, K√ºche, Schlafzimmer, Au√üenbereich, etc.            |
| üî® Arbeitstypen        | Neubau / Sanierung / Reparatur                                 |
| üåç 9 regionale DBs     | Preise lokalisiert f√ºr Berlin, Toronto, Paris, etc.            |
| üìÑ Professionelle Berichte| Saubere HTML-Ausgabe f√ºr Kunden                             |

**Erforderliche Anmeldedaten:**
- OpenAI API Key (GPT-4 Vision + Embeddings)
- Qdrant URL + API Key

---

### 3Ô∏è‚É£ Universal-Bot (Text + Foto + PDF)

**Datei:** `n8n_3_Telegram_Bot_Cost_Estimates_and_Rate_Finder_TEXT_PHOTO_PDF_DDC_CWICR.json`

Voll ausgestatteter Telegram-Bot, der alle Eingabetypen unterst√ºtzt: Textbeschreibungen, Baufotos und PDF-Grundrisse. Der umfassendste Workflow f√ºr den Produktionseinsatz.


<p align="center">
  <br>
  <img src="https://github.com/datadrivenconstruction/cad2data-Revit-IFC-DWG-DGN-pipeline-with-conversion-validation-qto/blob/main/DDC_in_additon/DDC_readme_content/Universal%20Estimator%20Bot%20Text%20%20Photo%20PDF.jpg" width="100%"/>
  <br></br>
</p>

<h3 align="left">ü§ñ Jetzt ausprobieren ‚Äî Live-Demo-Bots</h3>
<p align="left"><i>Testen Sie die Sch√§tzungs-Workflows sofort in Telegram</i></p>
<h3>üì∑ Universal-Bot</h3>
<p><b>@OpenConstructionEstimate_bot</b></p>
<p>Voll ausgestatteter Bot f√ºr Text, Fotos und PDF</p>
<a href="https://t.me/OpenConstructionEstimate_bot">
<img src="https://img.shields.io/badge/Bot_√∂ffnen-26A5E4?style=for-the-badge&logo=telegram&logoColor=white" alt="Universal-Bot"/>
</a>
<br><br>


```mermaid
flowchart TB
    subgraph Input["üì• MULTI-EINGABE"]
        A[üí¨ Textnachricht]
        B[üì∑ Foto]
        C[üìÑ PDF-Dokument]
    end

    subgraph Router["üîÄ SMART ROUTER"]
        D{Typ erkennen}
    end

    subgraph TextPath["üí¨ TEXT-PFAD"]
        E[KI-Text-Parsing]
        F[Arbeiten extrahieren]
    end

    subgraph PhotoPath["üì∑ FOTO-PFAD"]
        G[Vision-KI]
        H[Elemente identifizieren]
        I[Zerlegen]
    end

    subgraph PDFPath["üìÑ PDF-PFAD"]
        J[Seiten extrahieren]
        K[Vision-Analyse]
        L[Inhalt parsen]
    end

    subgraph Common["üîç GEMEINSAME PIPELINE"]
        M[Embeddings generieren]
        N[Qdrant-Suche]
        O[KI-Reranking]
        P[Kosten berechnen]
    end

    subgraph Export["üì§ EXPORT"]
        Q[HTML-Bericht]
        R[Excel CSV]
        S[PDF-Dokument]
    end

    A --> D
    B --> D
    C --> D
    D -->|Text| E --> F --> M
    D -->|Foto| G --> H --> I --> M
    D -->|PDF| J --> K --> L --> M
    M --> N --> O --> P
    P --> Q
    P --> R
    P --> S

    style Input fill:#e0f2fe,stroke:#0284c7
    style Router fill:#fef3c7,stroke:#d97706
    style TextPath fill:#dcfce7,stroke:#16a34a
    style PhotoPath fill:#fce7f3,stroke:#db2777
    style PDFPath fill:#f3e8ff,stroke:#9333ea
    style Common fill:#fee2e2,stroke:#dc2626
    style Export fill:#d1fae5,stroke:#059669
```



**So funktioniert es:**

| Schritt | Aktion                                      | Technologie                    |
|---------|---------------------------------------------|--------------------------------|
| 1       | Benutzer sendet Text, Foto oder PDF         | Telegram Bot API               |
| 2       | Router erkennt Eingabetyp                   | Content-Type-Analyse           |
| 3a      | **Text:** KI parst Leistungspositionen      | OpenAI / Gemini                |
| 3b      | **Foto:** Vision-KI extrahiert Elemente     | GPT-4 Vision / Gemini 2.0      |
| 3c      | **PDF:** Seiten extrahieren und analysieren | PDF-Verarbeitung + Vision      |
| 4       | Semantische Suche in DDC CWICR              | Qdrant-Vektordatenbank         |
| 5       | KI-Reranking f√ºr beste Treffer              | LLM-Bewertung                  |
| 6       | Interaktive Bearbeitung √ºber Bot-Men√º       | Telegram Inline-Keyboards      |
| 7       | Ergebnisse exportieren                      | HTML / Excel / PDF             |

**17 Bot-Aktionen:**

| Aktion            | Beschreibung                        |
|-------------------|-------------------------------------|
| `/start`          | Sprachauswahlmen√º                   |
| Foto-Upload       | KI-Vision-Analyse ausl√∂sen          |
| Textnachricht     | Leistungspositionen parsen          |
| PDF-Upload        | Grundrisse verarbeiten              |
| Mengen bearbeiten | Vor Berechnung √§ndern               |
| Arbeit hinzuf√ºgen | Manuelle Positionseingabe           |
| Berechnen         | Vollst√§ndige Kostensch√§tzung        |
| Details anzeigen  | Ressourcen f√ºr jede Position zeigen |
| Excel exportieren | CSV-Tabelle herunterladen           |
| PDF exportieren   | PDF-Bericht generieren              |
| Hilfe             | Nutzungsanleitung anzeigen          |
| Verfeinern        | Mit Korrekturen neu analysieren     |

**Funktionen:**

| Funktion              | Beschreibung                                       |
|-----------------------|----------------------------------------------------|
| üì∑ Duale Vision-KI    | Gemini 2.0 Flash oder GPT-4 Vision (konfigurierbar)|
| üìÑ PDF-Verarbeitung   | Grundrisse, gescannte LV, Dokumente                |
| üí¨ Smartes Text-Parsing| Verarbeitet Listen, Tabellen, Freitext            |
| üîç KI-Reranking       | Verbessert Treffergenauigkeit                      |
| ‚úèÔ∏è Volle Bearbeitung  | Positionen hinzuf√ºgen, entfernen, √§ndern           |
| üìä Multi-Format-Export| HTML, Excel, PDF                                   |
| üåç 9 Sprachen         | Vollst√§ndige Lokalisierung                         |

**Erforderliche Anmeldedaten:**
- Telegram Bot Token
- OpenAI API Key (Embeddings)
- Gemini API Key (Vision) oder OpenAI GPT-4 Vision
- Qdrant URL + API Key

---

### 4Ô∏è‚É£ CAD (BIM) Kostensch√§tzungs-Pipeline

**Datei:** `n8n_4_CAD_(BIM)_Cost_Estimation_Pipeline_4D_5D_with_DDC_CWICR.json`

Automatisierte Kostensch√§tzung aus Revit/IFC/DWG-Modellen. Extrahiert BIM-Daten, klassifiziert Elemente, zerlegt in Leistungspositionen und generiert 4D/5D-Sch√§tzungen mit vollst√§ndiger Ressourcenaufschl√ºsselung.

<p align="left">
  <a href="https://datadrivenconstruction.io">
    <img src="https://github.com/datadrivenconstruction/cad2data-Revit-IFC-DWG-DGN-pipeline-with-conversion-validation-qto/blob/main/DDC_in_additon/DDC_readme_content/CAD%20(Revit)%20to%205D-4D%20Cost%20and%20Time%20Estimate.jpg" alt="DataDrivenConstruction">
  </a>
</p>

```mermaid
flowchart TB
    subgraph INPUT["üìÅ EINGABE<br/><i>CAD ‚Ä¢ Fotos ‚Ä¢ Textbeschreibung</i>"]
        CAD["üìê Projekteingabe<br/>(Text ‚Ä¢ Fotos ‚Ä¢ RVT / IFC / DWG)"]
    end

    subgraph EXTRACT["‚öôÔ∏è EXTRAKTION"]
        CONV["RvtExporter.exe / CAD Export / ETL"]
        XLSX["üìä .XLSX<br/>(Rohelemente)"]
    end

    subgraph PREP["üîß DATENVORBEREITUNG"]
        PREP_AI["ü§ñ KI: Bereinigen & Klassifizieren<br/><i>Kopfzeilen ‚Ä¢ Typen ‚Ä¢ Kategorien</i>"]
    end

    subgraph STAGE_PLAN["üìã STUFEN 1‚Äì3: Planung"]
        PLAN["ü§ñ Projekt & Phasen erkennen<br/><i>Neubau / Sanierung / R√ºckbau</i><br/><i>Klein / Mittel / Gro√ü</i><br/><i>Elemente ‚Üí Bauphasen</i>"]
    end

    subgraph STAGE4["üî® STUFE 4: Zerlegung"]
        S4["ü§ñ Typen in Arbeiten zerlegen<br/><i>'Ziegelwand 240mm' ‚Üí Mauerwerk, M√∂rtel, Putz</i>"]
    end

    subgraph STAGE5["üí∞ STUFE 5: Preisbildung"]
        S5["ü§ñ Preis √ºber Vektor-DB<br/><i>OpenAI-Embeddings + Qdrant</i><br/><i>rate_code, Einheitskosten, Ressourcen</i>"]
    end

    subgraph STAGE75["‚úÖ STUFE 7.5: Validierung"]
        S75["ü§ñ CTO-Pr√ºfung<br/><i>Vollst√§ndigkeit ‚Ä¢ Duplikate ‚Ä¢ Fehlende Arbeiten</i>"]
    end

    subgraph OUTPUT["üì§ AUSGABE"]
        HTML["üìÑ HTML-Bericht"]
        XLS["üìä XLS-Bericht"]
    end

    CAD --> CONV --> XLSX
    XLSX --> PREP_AI --> PLAN --> S4 --> S5 --> S75
    S75 --> HTML & XLS

    style INPUT fill:#f4f4f5,stroke:#d4d4d8,color:#18181b
    style EXTRACT fill:#e0f2fe,stroke:#bae6fd,color:#0f172a
    style PREP fill:#ede9fe,stroke:#ddd6fe,color:#1e1b4b
    style STAGE_PLAN fill:#ecfdf5,stroke:#bbf7d0,color:#064e3b
    style STAGE4 fill:#fef9c3,stroke:#fef3c7,color:#78350f
    style STAGE5 fill:#fee2e2,stroke:#fecaca,color:#7f1d1d
    style STAGE75 fill:#e0f2f1,stroke:#bae5e1,color:#134e4a
    style OUTPUT fill:#eef2ff,stroke:#e0e7ff,color:#111827
```


**n8n bietet 400+ native Integrationen** mit Plattformen wie Google Sheets, Notion, Slack, Airtable, Datenbanken (PostgreSQL, MongoDB), Cloud-Speicher und mehr. Jeder Knoten in diesem Workflow ist modular ‚Äî Sie k√∂nnen:

- üîÑ **LLM-Anbieter wechseln** (OpenAI ‚Üî Claude ‚Üî Gemini ‚Üî Grok)
- üìä **Mit Ihrem ERP oder Projektmanagementsystem verbinden**
- üìÅ **Ergebnisse an beliebige Ziele exportieren** (Cloud-Speicher, E-Mail, Dashboards)
- üîß **Jede Stufe anpassen** um Ihrer Kalkulationsmethodik zu entsprechen

Der Workflow geh√∂rt Ihnen zur Anpassung. Keine Einschr√§nkungen. Keine Lizenzgeb√ºhren. Volle Kontrolle.

---

## üìã Voraussetzungen

| Komponente                                         | Anforderung                            | Beschreibung                                                          |
|----------------------------------------------------|----------------------------------------|-----------------------------------------------------------------------|
| **[n8n](https://n8n.io/)**                         | v1.0+ (v2.0+ ben√∂tigt [Einrichtung](#Ô∏è-n8n-20-einrichtung-erforderlich))| Workflow-Automatisierungsplattform zur Orchestrierung der Sch√§tzungs-Pipeline|
| **[Qdrant](https://qdrant.tech/)**                 | Cloud oder selbst gehostete Instanz    | Vektordatenbank f√ºr semantische Suche √ºber Bauleistungspositionen     |
| **[OpenAI API](https://platform.openai.com/)**     | F√ºr Embeddings (`text-embedding-3-large`)| Generiert Vektor-Embeddings f√ºr BIM-Elemente und Kostendatenbank-Matching|
| **LLM API**                                        | OpenAI / Claude / Gemini / xAI Grok    | KI-Modelle f√ºr Leistungspositionsklassifizierung und Sch√§tzungsgenerierung|
| **[DDC Converter](https://github.com/datadrivenconstruction/cad2data-Revit-IFC-DWG-DGN-pipeline-with-conversion-validation-qto)** | `RvtExporter.exe` | Extrahiert BIM-Daten aus Revit-Modellen nach Excel/JSON zur Verarbeitung|

---

## Workflows Schnellstart

### Schritt 1: Workflow importieren

```
n8n ‚Üí Neuer Workflow ‚Üí Aus Datei importieren ‚Üí JSON ausw√§hlen
```

### Schritt 2: Anmeldedaten konfigurieren

Im **üîë TOKEN**-Knoten setzen Sie Ihre API-Schl√ºssel:

```json
{
  "bot_token": "IHR_TELEGRAM_BOT_TOKEN",
  "OPENAI_API_KEY": "IHR_OPENAI_SCHL√úSSEL",
  "GEMINI_API_KEY": "IHR_GEMINI_SCHL√úSSEL",
  "QDRANT_URL": "http://localhost:6333",
  "QDRANT_API_KEY": ""
}
```

### Schritt 3: DDC CWICR in Qdrant laden

Snapshot von [Releases](#releases) herunterladen und importieren:

```bash
curl -X POST "http://localhost:6333/collections/ddc_cwicr_en/snapshots/upload" \
  -H "Content-Type: multipart/form-data" \
  -F "snapshot=@EN_TORONTO_workitems_EMBEDDINGS_3072_DDC.snapshot"
```

### Schritt 4: Aktivieren & Testen

- Workflow in n8n aktivieren
- F√ºr Telegram-Bots: `/start` an Ihren Bot senden
- F√ºr Webformulare: Die von n8n bereitgestellte Formular-URL √∂ffnen

---

## ‚ö†Ô∏è n8n 2.0+ Einrichtung erforderlich

> **Ab n8n Version 2.0 ist der Execute Command-Knoten aus Sicherheitsgr√ºnden standardm√§√üig deaktiviert.**
>
> Ohne die folgende Konfiguration **funktionieren Workflows mit Execute Command (insbesondere CAD/BIM-Pipeline) nicht** ‚Äî Knoten werden mit einem Fragezeichen angezeigt oder nicht erkannt.

### Schnelle L√∂sung

**Windows (CMD) ‚Äî bei jedem Start ausf√ºhren:**
```cmd
set NODES_EXCLUDE=[] && npx n8n
```

**Permanente L√∂sung ‚Äî einmal erstellen:**

Datei `C:\Users\IHR_BENUTZER\.n8n\.env` erstellen mit:
```
NODES_EXCLUDE=[]
```
Dann einfach `npx n8n` wie gewohnt ausf√ºhren.

**Docker:**
```yaml
environment:
  - NODES_EXCLUDE=[]
```

### Einrichtung √ºberpr√ºfen

1. n8n starten
2. Auf **+** klicken ‚Üí nach **"Execute Command"** suchen
3. Wenn der Knoten erscheint ‚Üí ‚úÖ Sie sind fertig!

> üìö Mehr Details: [n8n 2.0 Breaking Changes](https://docs.n8n.io/2-0-breaking-changes/)

---

## üåç Unterst√ºtzte Sprachen & Preisniveaus

| Code  | Sprache      | Preisniveau     | W√§hrung | Qdrant-Sammlung     |
|-------|--------------|-----------------|---------|---------------------|
| `AR`  | Arabisch     | Dubai           | AED     | `ddc_cwicr_ar`      |
| `DE`  | Deutsch      | Berlin          | EUR     | `ddc_cwicr_de`      |
| `EN`  | Englisch     | Toronto         | CAD     | `ddc_cwicr_en`      |
| `ES`  | Spanisch     | Barcelona       | EUR     | `ddc_cwicr_es`      |
| `FR`  | Franz√∂sisch  | Paris           | EUR     | `ddc_cwicr_fr`      |
| `HI`  | Hindi        | Mumbai          | INR     | `ddc_cwicr_hi`      |
| `PT`  | Portugiesisch| S√£o Paulo       | BRL     | `ddc_cwicr_pt`      |
| `RU`  | Russisch     | St. Petersburg  | RUB     | `ddc_cwicr_ru`      |
| `ZH`  | Chinesisch   | Shanghai        | CNY     | `ddc_cwicr_zh`      |

---

## üìä Pipeline-Stufen

Der CAD/BIM-Workflow verarbeitet Daten in 10 Stufen:

| Stufe   | Name                    | Beschreibung                                                       |
|---------|-------------------------|--------------------------------------------------------------------|
| **0**   | BIM-Daten sammeln       | Elemente aus Revit √ºber DDC Converter extrahieren                  |
| **1**   | Projekterkennung        | KI identifiziert Projekttyp (Wohn-, Gewerbe-, etc.)                |
| **2**   | Phasengenerierung       | KI erstellt Bauphasen                                              |
| **3**   | Element-Zuordnung       | KI ordnet BIM-Typen Phasen zu                                      |
| **4**   | Arbeits-Zerlegung       | KI zerlegt Typen in Arbeiten ("Ziegelwand" ‚Üí Mauerwerk, M√∂rtel)    |
| **5**   | Vektorsuche             | Passende S√§tze in DDC CWICR √ºber Qdrant finden                     |
| **6**   | Einheiten-Mapping       | BIM-Einheiten in Satz-Einheiten umwandeln                          |
| **7**   | Kostenberechnung        | Menge √ó Einheitspreis f√ºr jede Leistungsposition                   |
| **7.5** | Validierung             | CTO-Pr√ºfung auf Vollst√§ndigkeit und Duplikate                      |
| **8**   | Aggregation             | Summe nach Phasen und Kategorien                                   |
| **9**   | Berichterstellung       | HTML- und Excel-Ausgaben erstellen                                 |

---

## ‚öôÔ∏è LLM-Modellauswahl

Der Workflow unterst√ºtzt mehrere KI-Anbieter. Aktivieren Sie Ihr bevorzugtes Modell im Abschnitt **LLM-Modelle**:

| Modell           | Knoten-Name                  | Status       |
|------------------|------------------------------|--------------|
| OpenAI GPT-4o    | `OpenAI LLM`                 | ‚úÖ Standard  |
| Claude Opus 4    | `Anthropic Chat Model2`      | Deaktiviert  |
| Gemini 2.5 Pro   | `Google Gemini Chat Model`   | Deaktiviert  |
| xAI Grok         | `xAI Grok Chat Model1`       | Deaktiviert  |
| DeepSeek         | `DeepSeek Chat Model`        | Deaktiviert  |

Zum Modellwechsel: Gew√ºnschten Modell-Knoten **aktivieren** und andere **deaktivieren**.

---

## üìÅ Ausgabedateien

Berichte werden im Projektordner gespeichert:
```
project_YYYY-MM-DD.html   ‚Üê Interaktiver Bericht (√∂ffnet sich im Browser)
project_YYYY-MM-DD.xls    ‚Üê Excel-kompatible Tabelle
```
<p align="center">
  <br>
  <img src="https://github.com/datadrivenconstruction/cad2data-Revit-IFC-DWG-DGN-pipeline-with-conversion-validation-qto/blob/main/DDC_in_additon/DDC_readme_content/The%20generated%20report%20includes.jpg" width="100%"/>
  <br></br>
</p>

---

## üîó Qdrant-Sammlungen

Der Workflow w√§hlt automatisch die richtige Sammlung basierend auf `language_code`:

```
{LANG}_{CITY}_workitems_costs_resources_EMBEDDINGS_3072_DDC_CWICR
```

Beispiel: `DE_BERLIN_workitems_costs_resources_EMBEDDINGS_3072_DDC_CWICR`

---

## ‚ö†Ô∏è Fehlerbehebung

| Problem                       | L√∂sung                                                        |
|-------------------------------|---------------------------------------------------------------|
| "Execute Command fehlt" (n8n 2.0+) | `NODES_EXCLUDE=[]` Umgebungsvariable setzen. Siehe [n8n 2.0+ Einrichtung](#Ô∏è-n8n-20-einrichtung-erforderlich) |
| "Keine Excel-Datei gefunden"  | `path_to_converter` und `project_file` Pfade √ºberpr√ºfen       |
| "Qdrant-Verbindung fehlgeschlagen" | Qdrant URL und API-Schl√ºssel in Anmeldedaten √ºberpr√ºfen  |
| "Rate Limit √ºberschritten"    | Stapelgr√∂√üe reduzieren oder Verz√∂gerungen zwischen API-Aufrufen hinzuf√ºgen |
| "Keine Preise gefunden"       | Pr√ºfen ob korrekte Sprachsammlung in Qdrant existiert         |
| "Telegram-Webhook-Fehler"     | Sicherstellen dass Workflow aktiv und Webhook-URL erreichbar ist |
| "Vision-API fehlgeschlagen"   | √úberpr√ºfen ob Gemini- oder OpenAI Vision API-Schl√ºssel g√ºltig ist |

---

## Vektordatenbank

Gebrauchsfertige Qdrant-Sammlungen mit OpenAI `text-embedding-3-large` Embeddings f√ºr semantische Suche √ºber Bauleistungspositionen.

Vektordatenbanken erm√∂glichen es Ihnen, mit Ihren Daten in nat√ºrlicher Sprache zu "sprechen" ‚Äî mit einfachen S√§tzen oder kurzen Phrasen statt Code oder komplexen Filtern. Dies beschleunigt das Finden der richtigen Leistungsposition oder Kostenzeile erheblich, selbst in sehr gro√üen Datens√§tzen.

Diese Qdrant-Sammlungen k√∂nnen √ºber moderne Automatisierungs- und Integrations-Workflows mit Anwendungen verbunden werden (z.B. Low-Code/No-Code Workflow- und Pipeline-Tools). Sie k√∂nnen Assistenten erstellen, die Bauleistungspositionen suchen, filtern und erkl√§ren, oder semantische Suche direkt in Ihre bestehenden Sch√§tzungs- und Projektkontroll-Tools integrieren.

---

### Releases

QDRANT- und CSV-Datens√§tze (Dateien gr√∂√üer als 1 Gigabyte) von [GitHub Releases](https://github.com/datadrivenconstruction/OpenConstructionEstimate-DDC-CWICR/releases) herunterladen.

| Sprache          | Region         | CSV-Dateien           | Qdrant-Snapshot                             |
|------------------|----------------|-----------------------|---------------------------------------------|
| üá∏üá¶ Arabisch     | Dubai          | `AR_DUBAI_*.csv`      | `AR_DUBAI_*_EMBEDDINGS_3072_DDC.snapshot`   |
| üá®üá≥ Chinesisch   | Shanghai       | `ZH_SHANGHAI_*.csv`   | `ZH_SHANGHAI_*_EMBEDDINGS_3072_DDC.snapshot`|
| üá©üá™ Deutsch      | Berlin         | `DE_BERLIN_*.csv`     | `DE_BERLIN_*_EMBEDDINGS_3072_DDC.snapshot`  |
| üá¨üáß Englisch     | Toronto        | `EN_TORONTO_*.csv`    | `EN_TORONTO_*_EMBEDDINGS_3072_DDC.snapshot` |
| üá™üá∏ Spanisch     | Barcelona      | `ES_BARCELONA_*.csv`  | `ES_BARCELONA_*_EMBEDDINGS_3072_DDC.snapshot`|
| üá´üá∑ Franz√∂sisch  | Paris          | `FR_PARIS_*.csv`      | `FR_PARIS_*_EMBEDDINGS_3072_DDC.snapshot`   |
| üáÆüá≥ Hindi        | Mumbai         | `HI_MUMBAI_*.csv`     | `HI_MUMBAI_*_EMBEDDINGS_3072_DDC.snapshot`  |
| üáßüá∑ Portugiesisch| S√£o Paulo      | `PT_SAOPAULO_*.csv`   | `PT_SAOPAULO_*_EMBEDDINGS_3072_DDC.snapshot`|
| üá∑üá∫ Russisch     | St. Petersburg | `RU_SPB_*.csv`        | `RU_SPB_*_EMBEDDINGS_3072_DDC.snapshot`     |

<a href="https://github.com/datadrivenconstruction/OpenConstructionEstimate-DDC-CWICR/releases/tag/v0.1.0">
  <img src="https://img.shields.io/badge/üì•_Download_v0.1.0-GitHub_Releases-181717?style=for-the-badge&logo=github" alt="Download v0.1.0">
</a>

### Sammlungen

üá∏üá¶ `ddc_cwicr_ar` (Arabisch) ¬∑ üá®üá≥ `ddc_cwicr_zh` (Chinesisch) ¬∑ üá©üá™ `ddc_cwicr_de` (Deutsch) ¬∑ üá¨üáß `ddc_cwicr_en` (Englisch) ¬∑ üá™üá∏ `ddc_cwicr_es` (Spanisch) ¬∑ üá´üá∑ `ddc_cwicr_fr` (Franz√∂sisch) ¬∑ üáÆüá≥ `ddc_cwicr_hi` (Hindi) ¬∑ üáßüá∑ `ddc_cwicr_pt` (Portugiesisch) ¬∑ üá∑üá∫ `ddc_cwicr_ru` (Russisch)

Jede Sammlung enth√§lt **55.719 Vektoren** mit vollst√§ndigen Payload-Metadaten.

### Docker-Bereitstellung

```yaml
# docker-compose.yml
services:
  qdrant:
    image: qdrant/qdrant:latest
    container_name: ddc-cwicr-qdrant
    ports:
      - "6333:6333"
      - "6334:6334"
    volumes:
      - qdrant_storage:/qdrant/storage
      - ./snapshots:/qdrant/snapshots
    environment:
      - QDRANT__LOG_LEVEL=INFO
    restart: unless-stopped

volumes:
  qdrant_storage:
```

```bash
# Starten
docker-compose up -d

# Snapshot importieren
curl -X POST "http://localhost:6333/collections/ddc_cwicr_en/snapshots/upload" \
  -H "Content-Type: multipart/form-data" \
  -F "snapshot=@ddc_cwicr_en.snapshot"

# Dashboard: http://localhost:6333/dashboard
```
---

## Schnellstart

### Python - Tabellarische Daten

```python
import pandas as pd

# Parquet (empfohlen)
df = pd.read_parquet("DDC_CWICR_EN.parquet")

# Excel
df = pd.read_excel("DDC_CWICR_EN.xlsx")

print(f"Datens√§tze: {len(df):,} | Felder: {len(df.columns)}")
print(df[['rate_code', 'rate_original_name', 'rate_unit', 'total_cost_per_position']].head())
```

### Python - Semantische Suche

```python
from qdrant_client import QdrantClient
from openai import OpenAI

client = QdrantClient("localhost", port=6333)
openai = OpenAI()

# Suche in nat√ºrlicher Sprache
query = "Stahlbeton-Fundamentguss"
embedding = openai.embeddings.create(
    input=query,
    model="text-embedding-3-large"
).data[0].embedding

results = client.search(
    collection_name="ddc_cwicr_de",
    query_vector=embedding,
    limit=5
)

for r in results:
    print(f"[{r.score:.3f}] {r.payload['rate_code']}: {r.payload['rate_original_name']}")
```

### Gefilterte Suche

```python
from qdrant_client.models import Filter, FieldCondition, MatchValue, Range

# Nach Abteilung
results = client.search(
    collection_name="ddc_cwicr_de",
    query_vector=embedding,
    query_filter=Filter(must=[
        FieldCondition(key="department_name", match=MatchValue(value="Beton- und Stahlbetonarbeiten"))
    ]),
    limit=10
)

# Nach Preisbereich
results = client.search(
    collection_name="ddc_cwicr_de",
    query_vector=embedding,
    query_filter=Filter(must=[
        FieldCondition(key="price_est_median", range=Range(gte=1000, lte=50000))
    ]),
    limit=10
)
```


---

## Ressourcen & Community

[![Website](https://img.shields.io/badge/üåê_Website-datadrivenconstruction.io-2563eb?style=for-the-badge)](https://datadrivenconstruction.io)
[![Demo](https://img.shields.io/badge/üéØ_Demo-openconstructionestimate.com-059669?style=for-the-badge)](https://openconstructionestimate.com)
[![GitHub](https://img.shields.io/badge/üíª_GitHub-datadrivenconstruction-181717?style=for-the-badge&logo=github)](https://github.com/datadrivenconstruction)
[![YouTube](https://img.shields.io/badge/üì∫_YouTube-@datadrivenconstruction-FF0000?style=for-the-badge&logo=youtube)](https://youtube.com/@datadrivenconstruction)
[![LinkedIn](https://img.shields.io/badge/üíº_LinkedIn-datadrivenconstruction-0A66C2?style=for-the-badge&logo=linkedin)](https://linkedin.com/company/datadrivenconstruction)
[![Telegram](https://img.shields.io/badge/üí¨_Telegram-datadrivenconstruction-26A5E4?style=for-the-badge&logo=telegram)](https://t.me/datadrivenconstruction)

### Beratung & Schulung

Wir arbeiten mit f√ºhrenden Bau-, Ingenieur-, Beratungsunternehmen und Technologiefirmen weltweit zusammen, um ihnen bei der Implementierung offener Datenprinzipien, der Automatisierung von CAD/BIM-Verarbeitung und dem Aufbau robuster ETL-Pipelines zu helfen. Wir unterst√ºtzen aktiv Organisationen, die praktische L√∂sungen f√ºr digitale Transformation und Interoperabilit√§t suchen, mit Fokus auf Datenqualit√§t und Klassifizierungsherausforderungen bei gleichzeitiger F√∂rderung der Einf√ºhrung offener und automatisierter Workflows.

Wenn Sie diese L√∂sung mit Ihren eigenen Daten testen m√∂chten oder daran interessiert sind, den Workflow an reale Projektaufgaben anzupassen, kontaktieren Sie uns gerne. Unser Team f√ºhrt praxisorientierte Workshops durch, bietet strategische Beratung und entwickelt Prototypen, die auf reale Projektprozesse zugeschnitten sind.

<a href="mailto:info@datadrivenconstruction.io">
  <img src="https://img.shields.io/badge/üìß_Kontaktieren_Sie_uns-info@datadrivenconstruction.io-2563eb?style=for-the-badge" alt="Kontakt">
</a>

### Mitwirken

DDC CWICR ist ein freies und offenes Projekt, das sich der Effizienzsteigerung, Transparenz und technologischen Weiterentwicklung der Baubranche widmet. Wir suchen aktiv nach gleichgesinnten Enthusiasten, die diese Mission teilen. Wenn Sie n√ºtzliche L√∂sungen erstellen und bereit sind, diese mit der Community zu teilen, helfen wir Ihnen dabei, geh√∂rt zu werden.

Wir laden Sie ein, Ihre Open-Source-Workflows, Pipelines und Integrationen auf Basis von DDC CWICR einzureichen - Tools, die jeder frei in seiner Arbeit nutzen kann. Die besten L√∂sungen werden mit vollst√§ndiger Autorennennung auf GitHub ver√∂ffentlicht und √ºber unseren Newsletter und Social-Media-Kan√§le angek√ºndigt, die Zehntausende von professionellen Abonnenten erreichen. Dies platziert Ihren Namen direkt vor einer internationalen Community von Kalkulatoren, BIM-Spezialisten und Projektmanagern.

Gemeinsam ver√§ndern wir die Branche. Sie k√∂nnen Ihre L√∂sung an info@datadrivenconstruction.io mit dem Betreff "DDC Open Workflow" senden oder einen Pull Request direkt an unsere GitHub-Repositories stellen.

Automatisieren Sie die Verarbeitung von Baudaten mit fertigen CAD-BIM n8n-Workflows:

<a href="https://github.com/datadrivenconstruction/cad2data-Revit-IFC-DWG-DGN-pipeline-with-conversion-validation-qto">
  <img src="https://img.shields.io/badge/cad2data_Pipeline-GitHub-181717?style=for-the-badge&logo=github" alt="cad2data Pipeline">
</a>


## Lizenz

**Datenbank** (DDC CWICR) - [CC BY 4.0](https://creativecommons.org/licenses/by/4.0/). Frei nutzbar, teilbar und kommerziell anpassbar. Namensnennung: "DDC CWICR by DataDrivenConstruction"

**Code** (Workflows, Skripte) - [MIT](https://opensource.org/licenses/MIT). Frei nutzbar, modifizierbar und verteilbar ohne Einschr√§nkungen.

## Projekt unterst√ºtzen

Wenn Sie dies n√ºtzlich finden, erw√§gen Sie bitte eine Unterst√ºtzung:

[![GitHub Sponsors](https://img.shields.io/badge/Sponsern_auf-GitHub-ea4aaa?style=for-the-badge&logo=github)](https://github.com/sponsors/datadrivenconstruction)
[![Buy Me A Coffee](https://img.shields.io/badge/Buy_Me_A_Coffee-ffdd00?style=for-the-badge&logo=buy-me-a-coffee&logoColor=black)](https://buymeacoffee.com/boikoartem)


<p align="left">
  <br/>
  <b>Erschlie√üen Sie die Macht der Daten im Bauwesen</b><br/>
  <sub>Wechseln Sie zu einem vollst√§ndigen Datenmanagement, bei dem nur einheitliche strukturierte Daten & Prozesse bleiben</sub>
</p>

<p align="left">
  <a href="https://datadrivenconstruction.io">
    <img src="https://datadrivenconstruction.io/wp-content/uploads/2023/07/DataDrivenConstruction-1-1.png.webp" alt="DataDrivenConstruction" width="180">
  </a>
</p>

<p align="left">
  <sub>¬© 2025 Artem Boiko ¬∑ <a href="https://datadrivenconstruction.io">datadrivenconstruction.io</a></sub>
</p>
